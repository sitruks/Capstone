df <- df %>% mutate(embarked = gsub(is.na(1), "S", embarked))
df %>% group_by(embarked) %>% summarise(n = n())
df <- df %>% mutate(embarked = gsub(is.na(embarked), "S", embarked))
?gusb
?gsub
df <- df %>% replace_na(embarked, S)
?replace_na
df <- df %>% mutate(embarked = replace_na("S"), "S", embarked))
df <- df %>% mutate(embarked = replace_na(), "S", embarked))
df <- df %>% mutate(embarked = replace_na(), "S", embarked)
df <- df %>% mutate(embarked = replace_na("S"), "S", embarked)
df %>% group_by(embarked) %>% summarise(n = n())
rm(df)
df
df <- tbl_df(read_csv("C:/Users/v-kursan/Downloads/Capstone_DS/Wrangle/2_Basic_Data_Manipulation/titanic_original.csv"))
df %>% group_by(embarked) %>% summarise(n = n())
df <- df %>% mutate(embarked = replace_na("S"))
df %>% group_by(embarked) %>% summarise(n = n())
rm(df)
df <- tbl_df(read_csv("C:/Users/v-kursan/Downloads/Capstone_DS/Wrangle/2_Basic_Data_Manipulation/titanic_original.csv"))
df %>% group_by(embarked) %>% summarise(n = n())
df <- df %>% mutate(embarked = replace_na(list(embarked = "S"))
df <- df %>% mutate(embarked = replace_na(list(embarked = "S")
df <- df %>% mutate(embarked = replace_na(list(embarked = "S")))
df %>% group_by(embarked) %>% summarise(n = n())
rm(df)
df <- tbl_df(read_csv("C:/Users/v-kursan/Downloads/Capstone_DS/Wrangle/2_Basic_Data_Manipulation/titanic_original.csv"))
df <- df %>% mutate(embarked = replace_na(embarked = "S"))
df <- df %>% replace_na(list(embarked = "S"))
df %>% group_by(embarked) %>% summarise(n = n())
mean(df, age)
mean(df, age, is.NA = TRUE)
mean(df, age, is.NA = FALSE)
df %>% mean(age)
df %>% mean(age, is.na())
df %>% mean(age, is.na() = FALSE)
df %>% mean(age, na.rm = FALSE)
df %>% mean(age, na.rm = TRUE)
df %>% mean(age, na.rm = TRUE)
mean(df, age, na.rm = TRUE)
df %>% group_by(age) %>% mean()
df %>% group_by(age) %>% mean(na.rm = TRUE)
df %>% group_by(age) %>% mean(,na.rm = TRUE)
df %>% group_by(age)
mean()
mean(df:age)
mean(df::age)
df %>% group_by(age) %>% summarise(mean = mean(age))
df %>% group_by(age) %>% summarise(mean = mean())
df %>% as.integer(age)
df %>% mutate(age = as.integer(age))
df %>% mutate(age = as.integer(age)) %>% summarise(mean(age))
df %>% mutate(age = as.integer(age)) %>% summarise(mean(age, na.rm = TRUE))
knitr::opts_chunk$set(echo = TRUE)
library(dplyr)
library(tidyverse)
#convert double to integer then find mean
df <- df %>% mutate(age = as.integer(age))
#find mean
df %>% summarise(age, na.rm = TRUE)
df <- df %>% mutate(age = as.integer(age))
df %>% summarise(age, na.rm = TRUE)
```{r}
df
df %>% summarise(mean(age, na.rm = TRUE))
df <- df %>% replace_na(list(age = 30))
df %>% group_by(age) %>% summarise(n = n())
df %>% replace_na(list(boat = "None"))
df %>% replace_na(list(boat = "None")) %>% group_by(boat) %>% summarise(n = n())
df %>% replace_na(list(boat = "None")) %>% group_by(boat) %>% summarise(n = n()) %>% as.array()
df %>% replace_na(list(boat = "None")) %>% group_by(boat) %>% summarise(n = n()) %>% spread(n, boat)
df %>% replace_na(list(boat = "None")) %>% group_by(boat) %>% summarise(n = n()) %>% spread(boat, n)
df %>% replace_na(list(cabin = "None")) %>% mutate(has_cabin_number = if_else(cabin = "None"), 0, 1)
df %>% replace_na(list(cabin = "None"))
df %>% replace_na(list(cabin = "None")) %>% mutate(has_cabin_number = if_else(cabin = "None"), 0, 1)
df <- df %>% replace_na(list(cabin = "None"))
df %>% mutate(has_cabin_number = if_else(cabin = "None"), 0, 1)
df %>% mutate(has_cabin_number = if_else(cabin = None), 0, 1)
rm(df)
df <- tbl_df(read_csv("C:/Users/v-kursan/Downloads/Capstone_DS/Wrangle/2_Basic_Data_Manipulation/titanic_original.csv"))
df %>% mutate(has_cabin_number = if_else(cabin = is.NA), 0, 1)
df %>% mutate(has_cabin_number = if_else(cabin = na.rm), 0, 1)
df %>% mutate(has_cabin_number = if_else(cabin = (na.rm = TRUE), 0, 1)
df %>% mutate(has_cabin_number = if_else(cabin = (na.rm = TRUE), 0, 1))
df %>% mutate(has_cabin_number = if_else )
df %>% mutate(has_cabin_number = if_else(cabin = !na.rm), 1, 0)
df %>% mutate(has_cabin_number = if_else(cabin = "None"), 1, 0)
df %>% mutate(has_cabin_number = if_else(cabin == "None"), 1, 0)
df <- df %>% replace_na(list(cabin = "None"))
df
df %>% mutate(has_cabin_number = if_else(cabin == "None"), 1, 0)
df %>% mutate(has_cabin_number = if_else(cabin == None), 1, 0)
vmware <- read_csv("C:/Users/v-kursan/OneDrive - Microsoft/IS_Files/Work and Offers/_Work/Indigo/_Market Research/vmware.csv")
vmware %>% select(contains("Q19_CSS_coded")) %>% mutate(q19_cisco = if_else(grepl("Cisco", "Q19_CSS_Coded"), 1, 0))
vmware
vmware %>% mutate(q19_cisco = if_else(grepl("Cisco", "Q19_CSS_Coded"), 1, 0))
vmware %>% mutate(q19_cisco = if_else(grepl("Cisco", "Q19_CSS_Coded"), 1, 0)) %>% q19_cisco
vmware %>% mutate(q19_cisco = if_else(grepl("Cisco", "Q19_CSS_Coded"), 1, 0)) %>% print(q19_cisco)
vmware %>% mutate(q19_cisco = if_else(grepl("Cisco", "Q19_CSS_Coded"), 1, 0)) %>% summarise(q19_cisco)
vmware %>% mutate(q19_cisco = if_else(grepl("Cisco", "Q19_CSS_Coded"), 1, 0)) %>% summarise(q19_cisco, n = n(())
vmware %>% mutate(q19_cisco = if_else(grepl("Cisco", "Q19_CSS_Coded"), 1, 0)) %>% summarise(q19_cisco, n = n())
vmware %>% mutate(q19_cisco = if_else(grepl("Cisco", "Q19_CSS_Coded"), 1, 0)) %>% group_by(q19_cisco) %>% summarise(q19_cisco, n = n())
vmware %>% mutate(q19_cisco = if_else(grepl("Cisco", "Q19_CSS_Coded"), 1, 0)) %>% group_by(q19_cisco) %>% summarise(n = n())
vmware %>% mutate(q19_cisco = if_else(grepl("Cisco", "Q19_CSS_Coded"), 1, 0)) %>% group_by(q19_cisco) %>% summarise(n = n())
vmware %>% mutate(q19_cisco = if_else(grepl("^Cisco$", "Q19_CSS_Coded"), 1, 0)) %>% group_by(q19_cisco) %>% summarise(n = n())
vmware %>% mutate(q19_cisco = if_else(contains("^Cisco$", "Q19_CSS_Coded"), 1, 0)) %>% group_by(q19_cisco) %>% summarise(n = n())
vmware %>% mutate(q19_cisco = if_else(grepl("^Cisco$", Q19_CSS_normalized), 1, 0)) %>% group_by(q19_cisco) %>% summarise(n = n())
vmware %>% mutate(q19_cisco = if_else(grepl("Cisco", Q19_CSS_normalized), 1, 0)) %>% group_by(q19_cisco) %>% summarise(n = n())
vmware %>%
mutate(q19_cisco = if_else(grepl("Cisco", Q19_CSS_normalized), 1, 0),
q19_cyberark = if_else(grepl("Cyberark", Q19_CSS_normalized), 1, 0),
q19_mcafee = if_else(grepl("McAfee", Q19_CSS_normalized), 1, 0),
q19_paloalto = if_else(grepl("Palo", Q19_CSS_normalized), 1, 0),
q19_sophos = if_else(grepl("Sophos", Q19_CSS_normalized), 1, 0),
q19_symantec = if_else(grepl("Symantec", Q19_CSS_normalized), 1, 0),
q19_vmware = if_else(grepl("VMware", Q19_CSS_normalized), 1, 0),
q19_windowsd = if_else(grepl("Windows D", Q19_CSS_normalized), 1, 0),
q19_na = if_else(grepl("N/A", Q19_CSS_normalized), 1, 0)
)
%>% group_by(q19_cisco)
%>% summarise(n = n())
vmware %>%
mutate(q19_cisco = if_else(grepl("Cisco", Q19_CSS_normalized), 1, 0),
q19_cyberark = if_else(grepl("Cyberark", Q19_CSS_normalized), 1, 0),
q19_mcafee = if_else(grepl("McAfee", Q19_CSS_normalized), 1, 0),
q19_paloalto = if_else(grepl("Palo", Q19_CSS_normalized), 1, 0),
q19_sophos = if_else(grepl("Sophos", Q19_CSS_normalized), 1, 0),
q19_symantec = if_else(grepl("Symantec", Q19_CSS_normalized), 1, 0),
q19_vmware = if_else(grepl("VMware", Q19_CSS_normalized), 1, 0),
q19_windowsd = if_else(grepl("Windows D", Q19_CSS_normalized), 1, 0),
q19_na = if_else(grepl("N//A", Q19_CSS_normalized), 1, 0)
)
%>% group_by(q19_cisco)
%>% summarise(n = n())
vmware %>%
mutate(q19_cisco = if_else(grepl("Cisco", Q19_CSS_normalized), 1, 0),
q19_cyberark = if_else(grepl("Cyberark", Q19_CSS_normalized), 1, 0),
q19_mcafee = if_else(grepl("McAfee", Q19_CSS_normalized), 1, 0),
q19_paloalto = if_else(grepl("Palo", Q19_CSS_normalized), 1, 0),
q19_sophos = if_else(grepl("Sophos", Q19_CSS_normalized), 1, 0),
q19_symantec = if_else(grepl("Symantec", Q19_CSS_normalized), 1, 0),
q19_vmware = if_else(grepl("VMware", Q19_CSS_normalized), 1, 0),
q19_windowsd = if_else(grepl("Windows D", Q19_CSS_normalized), 1, 0),
q19_na = if_else(grepl("N/A", Q19_CSS_normalized), 1, 0)
)
vmware %>%
mutate(q19_cisco = if_else(grepl("Cisco", Q19_CSS_normalized), 1, 0),
q19_cyberark = if_else(grepl("Cyberark", Q19_CSS_normalized), 1, 0),
q19_mcafee = if_else(grepl("McAfee", Q19_CSS_normalized), 1, 0),
q19_paloalto = if_else(grepl("Palo", Q19_CSS_normalized), 1, 0),
q19_sophos = if_else(grepl("Sophos", Q19_CSS_normalized), 1, 0),
q19_symantec = if_else(grepl("Symantec", Q19_CSS_normalized), 1, 0),
q19_vmware = if_else(grepl("VMware", Q19_CSS_normalized), 1, 0),
q19_windowsd = if_else(grepl("Windows D", Q19_CSS_normalized), 1, 0),
q19_na = if_else(grepl("N/A", Q19_CSS_normalized), 1, 0)
) %>% select(contains("Q19_"))
vmware %>%
mutate(q19_cisco = if_else(grepl("Cisco", Q19_CSS_normalized), 1, 0),
q19_cyberark = if_else(grepl("Cyberark", Q19_CSS_normalized), 1, 0),
q19_mcafee = if_else(grepl("McAfee", Q19_CSS_normalized), 1, 0),
q19_paloalto = if_else(grepl("Palo", Q19_CSS_normalized), 1, 0),
q19_sophos = if_else(grepl("Sophos", Q19_CSS_normalized), 1, 0),
q19_symantec = if_else(grepl("Symantec", Q19_CSS_normalized), 1, 0),
q19_vmware = if_else(grepl("VMware", Q19_CSS_normalized), 1, 0),
q19_windowsd = if_else(grepl("Windows D", Q19_CSS_normalized), 1, 0),
q19_na = if_else(grepl("N/A", Q19_CSS_normalized), 1, 0)
) %>% select(contains("Q19_"))
vmware %>%
mutate(q19_cisco = if_else(grepl("Cisco", Q19_CSS_normalized), 1, 0),
q19_cyberark = if_else(grepl("Cyberark", Q19_CSS_normalized), 1, 0),
q19_mcafee = if_else(grepl("McAfee", Q19_CSS_normalized), 1, 0),
q19_paloalto = if_else(grepl("Palo", Q19_CSS_normalized), 1, 0),
q19_sophos = if_else(grepl("Sophos", Q19_CSS_normalized), 1, 0),
q19_symantec = if_else(grepl("Symantec", Q19_CSS_normalized), 1, 0),
q19_vmware = if_else(grepl("VMware", Q19_CSS_normalized), 1, 0),
q19_windowsd = if_else(grepl("Windows D", Q19_CSS_normalized), 1, 0),
q19_na = if_else(grepl("N/A", Q19_CSS_normalized), 1, 0),
q19_other = if_else(sum(q19_cisco:q19_na) > 1, 0, 1)
)
vmware %>%
mutate(q19_cisco = if_else(grepl("Cisco", Q19_CSS_normalized), 1, 0),
q19_cyberark = if_else(grepl("Cyberark", Q19_CSS_normalized), 1, 0),
q19_mcafee = if_else(grepl("McAfee", Q19_CSS_normalized), 1, 0),
q19_paloalto = if_else(grepl("Palo", Q19_CSS_normalized), 1, 0),
q19_sophos = if_else(grepl("Sophos", Q19_CSS_normalized), 1, 0),
q19_symantec = if_else(grepl("Symantec", Q19_CSS_normalized), 1, 0),
q19_vmware = if_else(grepl("VMware", Q19_CSS_normalized), 1, 0),
q19_windowsd = if_else(grepl("Windows D", Q19_CSS_normalized), 1, 0),
q19_na = if_else(grepl("N/A", Q19_CSS_normalized), 1, 0),
q19_other = if_else(q19_cisco:q19_na > 1, 0, 1)
)
vmware %>%
mutate(q19_cisco = if_else(grepl("Cisco", Q19_CSS_normalized), 1, 0),
q19_cyberark = if_else(grepl("Cyberark", Q19_CSS_normalized), 1, 0),
q19_mcafee = if_else(grepl("McAfee", Q19_CSS_normalized), 1, 0),
q19_paloalto = if_else(grepl("Palo", Q19_CSS_normalized), 1, 0),
q19_sophos = if_else(grepl("Sophos", Q19_CSS_normalized), 1, 0),
q19_symantec = if_else(grepl("Symantec", Q19_CSS_normalized), 1, 0),
q19_vmware = if_else(grepl("VMware", Q19_CSS_normalized), 1, 0),
q19_windowsd = if_else(grepl("Windows D", Q19_CSS_normalized), 1, 0),
q19_na = if_else(grepl("N/A", Q19_CSS_normalized), 1, 0)
) %>%
write_csv("C:/Users/v-kursan/OneDrive - Microsoft/IS_Files/Work and Offers/_Work/Indigo/_Market Research/vmware_q19.csv")
vmware %>%
mutate(q19_cisco = if_else(grepl("Cisco", Q19_CSS_normalized), 1, 0),
q19_cyberark = if_else(grepl("Cyberark", Q19_CSS_normalized), 1, 0),
q19_mcafee = if_else(grepl("McAfee", Q19_CSS_normalized), 1, 0),
q19_paloalto = if_else(grepl("Palo", Q19_CSS_normalized), 1, 0),
q19_sophos = if_else(grepl("Sophos", Q19_CSS_normalized), 1, 0),
q19_symantec = if_else(grepl("Symantec", Q19_CSS_normalized), 1, 0),
q19_vmware = if_else(grepl("VMware", Q19_CSS_normalized), 1, 0),
q19_windowsd = if_else(grepl("Windows D", Q19_CSS_normalized), 1, 0),
q19_na = if_else(grepl("N/A", Q19_CSS_normalized), 1, 0),
q19_other = if_else(grepl("Cisco|Cyberark|McAfee|Palo|Sophos|Symantec|VMware|Windows D|N/A", Q19_CSS_normalized), 0, 1)
) %>%
write_csv("C:/Users/v-kursan/OneDrive - Microsoft/IS_Files/Work and Offers/_Work/Indigo/_Market Research/vmware_q19.csv")
vmware %>%
mutate(q20_cisco = if_else(grepl("Cisco", Q20_BestCSS_normalized), 1, 0),
q20_cyberark = if_else(grepl("Cyberark", Q20_BestCSS_normalized), 1, 0),
q20_mcafee = if_else(grepl("McAfee", Q20_BestCSS_normalized), 1, 0),
q20_paloalto = if_else(grepl("Palo", Q20_BestCSS_normalized), 1, 0),
q20_sophos = if_else(grepl("Sophos", Q20_BestCSS_normalized), 1, 0),
q20_symantec = if_else(grepl("Symantec", Q20_BestCSS_normalized), 1, 0),
q20_vmware = if_else(grepl("VMware", Q20_BestCSS_normalized), 1, 0),
q20_windowsd = if_else(grepl("Windows D", Q20_BestCSS_normalized), 1, 0),
q20_na = if_else(grepl("N/A", Q20_BestCSS_normalized), 1, 0),
q20_other = if_else(grepl("Cisco|Cyberark|McAfee|Palo|Sophos|Symantec|VMware|Windows D|N/A", Q20_BestCSS_normalized), 0, 1)
) %>%
write_csv("C:/Users/v-kursan/OneDrive - Microsoft/IS_Files/Work and Offers/_Work/Indigo/_Market Research/vmware_q19.csv")
vmware %>%
mutate(q20_cisco = if_else(grepl("Cisco", Q20_BestCSS_normalized), 1, 0),
q20_cyberark = if_else(grepl("Cyberark", Q20_BestCSS_normalized), 1, 0),
q20_mcafee = if_else(grepl("McAfee", Q20_BestCSS_normalized), 1, 0),
q20_paloalto = if_else(grepl("Palo", Q20_BestCSS_normalized), 1, 0),
q20_sophos = if_else(grepl("Sophos", Q20_BestCSS_normalized), 1, 0),
q20_symantec = if_else(grepl("Symantec", Q20_BestCSS_normalized), 1, 0),
q20_vmware = if_else(grepl("VMware", Q20_BestCSS_normalized), 1, 0),
q20_windowsd = if_else(grepl("Windows D", Q20_BestCSS_normalized), 1, 0),
q20_na = if_else(grepl("N/A", Q20_BestCSS_normalized), 1, 0),
q20_other = if_else(grepl("Cisco|Cyberark|McAfee|Palo|Sophos|Symantec|VMware|Windows D|N/A", Q20_BestCSS_normalized), 0, 1)
) %>%
write_csv("C:/Users/v-kursan/OneDrive - Microsoft/IS_Files/Work and Offers/_Work/Indigo/_Market Research/vmware_q20.csv")
---
title: "Exercise 2"
author: "Kurtis"
date: "May 2, 2018"
output: html_document
---
```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(dplyr)
library(tidyverse)
```
### Data Wrangling Exercise 2:
#### Task 0
Load the data in RStudio
```{r}
df <- tbl_df(read_csv("C:/Users/v-kursan/Downloads/Capstone_DS/Wrangle/2_Basic_Data_Manipulation/titanic_original.csv"))
```
#### Task 1
Port of Embarkation
```{r}
df <- df %>% replace_na(list(embarked = "S"))
# check below
df %>% group_by(embarked) %>% summarise(n = n())
```
#### Task 2
Age
```{r}
#convert double to integer then find mean
df <- df %>% mutate(age = as.integer(age))
#find mean
df %>% summarise(mean(age, na.rm = TRUE))
#replace NA's
df <- df %>% replace_na(list(age = 30))
#check below
df %>% group_by(age) %>% summarise(n = n())
```
#### Task 3
Lifeboat
```{r}
#replace na first
df %>% replace_na(list(boat = "None"))
#distribution
df %>% group_by(boat) %>% summarise(n = n()) %>% spread(boat, n)
```
#### Task 4
Cabin
* it makes sense to fill in the missing cabin number values to potentially make summarise functions easier to run. Also to better distinguish what NA means (i.e. missing, unknown, no room)
* here, it is hard to tell what a missing value means, but i will assume "None"
```{r}
```
df
df %>% mutate(has_cabin_number = if_else(cabin = is.NA), 0, 1)
df %>% mutate(has_cabin_number = if_else(cabin == is.NA), 0, 1)
df %>% mutate(has_cabin_number = if_else(cabin == (na.rm() = TRUE), 0, 1)
df %>% mutate(has_cabin_number = if_else(cabin == (na.rm() = TRUE), 0, 1))
df %>% mutate(has_cabin_number = if_else(cabin == (na.rm() = FALSE), 0, 1))
df %>% mutate(has_cabin_number = if_else(cabin == na.rm(), 0, 1))
df %>% mutate(has_cabin_number = if_else(cabin == na.rm, 0, 1))
df %>% mutate(has_cabin_number = if_else(cabin == na.rm=TRUE, 0, 1))
df %>% mutate(has_cabin_number = if_else(cabin == (na.rm=TRUE), 0, 1))
df %>% mutate(has_cabin_number = if_else(cabin == (na.rm=TRUE), 0, 1)) %>% select(has_cabin_number)
knitr::opts_chunk$set(echo = TRUE)
library(dplyr)
library(tidyverse)
df %>% mutate(has_cabin_number = if_else(cabin == (na.rm = TRUE), 0, 1))
knitr::opts_chunk$set(echo = TRUE)
library(dplyr)
library(tidyverse)
df <- tbl_df(read_csv("C:/Users/v-kursan/Downloads/Capstone_DS/Wrangle/2_Basic_Data_Manipulation/titanic_original.csv"))
df <- df %>% replace_na(list(embarked = "S"))
# check below
df %>% group_by(embarked) %>% summarise(n = n())
#convert double to integer then find mean
df <- df %>% mutate(age = as.integer(age))
#find mean
df %>% summarise(mean(age, na.rm = TRUE))
#replace NA's
df <- df %>% replace_na(list(age = 30))
#check below
df %>% group_by(age) %>% summarise(n = n())
df %>% write_csv("C:/Users/v-kursan/Downloads/Capstone_DS/Wrangle/2_Basic_Data_Manipulation/titanic_clean.csv")
vmware <- tbl_df(read_csv("C:/Users/v-kursan/OneDrive - Microsoft/IS_Files/Work and Offers/_Work/Indigo/_Market Research/vmware.csv"))
library(tidyverse)
vmware <- tbl_df(read_csv("C:/Users/v-kursan/OneDrive - Microsoft/IS_Files/Work and Offers/_Work/Indigo/_Market Research/vmware.csv"))
vmware <- tbl_df(read_csv("C:/Users/v-kursan/OneDrive - Microsoft/IS_Files/Work and Offers/_Work/Indigo/_Market Research/vmware_q6_appended.csv"))
vmware <- tbl_df(read_csv("C:/Users/v-kursan/OneDrive - Microsoft/IS_Files/Work and Offers/_Work/Indigo/_Market Research/vmware.csv"))
vmware_tomergew <- tbl_df(read_csv("C:/Users/v-kursan/OneDrive - Microsoft/IS_Files/Work and Offers/_Work/Indigo/_Market Research/vmware.csv"))
rm(vmware_tomergew)
vmware_toMerge <- tbl_df(read_csv("C:/Users/v-kursan/OneDrive - Microsoft/IS_Files/Work and Offers/_Work/Indigo/_Market Research/vmware_q6_appended.csv"))
vmware_toMerge %>% select(contains("Q6_"))
vmware_toMerge %>% select(Num, contains("Q6_Recode"))
vmware_toMerge %>% select(Num, contains("Q6_Recode_3"))
vmware_toMerge %>% select(Num, contains("Q6_Recode_3")) %>% left_join(vmware, vmware_toMerge, by = Num)
vmware_toMerge %>% select(Num, contains("Q6_Recode_3")) %>% left_join(vmware, vmware_toMerge, by = "Num")
vmware
vmware <- vmware_toMerge %>% select(Num, contains("Q6_Recode_3")) %>% left_join(vmware, vmware_toMerge, by = "Num")
View(vmware)
vmware %>% mutate("Trusted Brand" = if_else(grepl("Trusted"), 1, 0))
glimpse()
glimpse(grepl)
vmware %>% mutate("Q6_Trusted Brand" = if_else(grepl("Trusted", Q6_Recode_3), 1, 0),
"Q6_Features/Capabilities" = if_else(grepl("Features", Q6_Recode_3), 1, 0),
"Q6_Virtualization" = if_else(grepl("Virtual", Q6_Recode_3), 1, 0),
"Q6_Integration" = if_else(grepl("Integr", Q6_Recode_3), 1, 0),
"Q6_Other" = if_else(grepl("Other", Q6_Recode_3), 1, 0)
)
vmware %>% mutate("Q6_Trusted Brand" = if_else(grepl("Trusted", Q6_Recode_3), 1, 0),
"Q6_Features/Capabilities" = if_else(grepl("Features", Q6_Recode_3), 1, 0),
"Q6_Virtualization" = if_else(grepl("Virtual", Q6_Recode_3), 1, 0),
"Q6_Integration" = if_else(grepl("Integr", Q6_Recode_3), 1, 0),
"Q6_Other" = if_else(grepl("Other", Q6_Recode_3), 1, 0)
) %>% select(Num, contains("Q6_"))
vmware <- vmware %>% mutate("Q6_Trusted Brand" = if_else(grepl("Trusted", Q6_Recode_3), 1, 0),
"Q6_Features/Capabilities" = if_else(grepl("Features", Q6_Recode_3), 1, 0),
"Q6_Virtualization" = if_else(grepl("Virtual", Q6_Recode_3), 1, 0),
"Q6_Integration" = if_else(grepl("Integr", Q6_Recode_3), 1, 0),
"Q6_Other" = if_else(grepl("Other", Q6_Recode_3), 1, 0)
) %>% select(Num, contains("Q6_"))
rm(vmware)
rm(vmware_toMerge)
#vmware q6 merge to main
vmware <- tbl_df(read_csv("C:/Users/v-kursan/OneDrive - Microsoft/IS_Files/Work and Offers/_Work/Indigo/_Market Research/vmware.csv"))
vmware_toMerge <- tbl_df(read_csv("C:/Users/v-kursan/OneDrive - Microsoft/IS_Files/Work and Offers/_Work/Indigo/_Market Research/vmware_q6_appended.csv"))
vmware <- vmware_toMerge %>%
select(Num, contains("Q6_Recode_3")) %>%
left_join(vmware, vmware_toMerge, by = "Num") %>%
mutate("Q6_Trusted Brand" = if_else(grepl("Trusted", Q6_Recode_3), 1, 0),
"Q6_Features/Capabilities" = if_else(grepl("Features", Q6_Recode_3), 1, 0),
"Q6_Virtualization" = if_else(grepl("Virtual", Q6_Recode_3), 1, 0),
"Q6_Integration" = if_else(grepl("Integr", Q6_Recode_3), 1, 0),
"Q6_Other" = if_else(grepl("Other", Q6_Recode_3), 1, 0)
)
vmware
write_csv("C:/Users/v-kursan/OneDrive - Microsoft/IS_Files/Work and Offers/_Work/Indigo/_Market Research/vmware.csv")
write_csv("C:/Users/v-kursan/OneDrive - Microsoft/IS_Files/Work and Offers/_Work/Indigo/_Market Research/vmware.csv", append = TRUE)
write_csv("C:/Users/v-kursan/OneDrive - Microsoft/IS_Files/Work and Offers/_Work/Indigo/_Market Research/vmware.csv", append = FALSE)
vmware %>% write_csv("C:/Users/v-kursan/OneDrive - Microsoft/IS_Files/Work and Offers/_Work/Indigo/_Market Research/vmware.csv")
rm(vmware_toMerge)
rm(vmware)
vmware <- tbl_df(read_csv("https://indigoslate.sharepoint.com/sites/pwa/VMware%20Qualitative%20Phase%20for%20NSBU%20Go%20to%20Market%20Strategy/Shared%20Documents/Source/Data_withR/vmware.csv"))
vmware <- tbl_df(read_csv("~Downloads/vmware.csv"))
vmware <- tbl_df(read_csv("C:/Users/v-kursan/Downloads/vmware.csv"))
q23 <- vmware %>% select(contains("Q23_")) %>% gather(`Q23_Factor_a`, `Q23_Factor_b`, `Q23_Factor_c`, `Q23_Factor_d`, `Q23_Factor_e`, key = "factor", value = "cases")
q23_summary <- q23 %>% group_by(cases, factor) %>% summarise(n = n()) %>% spread(key = cases, value = n)
q23_summary
q24 <- vmware %>% select(contains("Q24_")) %>% gather(`Q24_a`, `Q24_b`, `Q24_c`, `Q24_d`, `Q24_e`, `Q24_f`, `Q24_g`, `Q24_h`, key = "factor", value = "cases")
q24_summary <- q24 %>% group_by(cases, factor) %>% summarise(n = n()) %>% spread(key = cases, value = n)
q24_summary
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(dplyr)
vmware %>%
mutate(Q6_Trusted_Brand = if_else(grepl("Trusted", Q6_Recode_3), 1, 0),
Q6_Features/Capabilities = if_else(grepl("Features", Q6_Recode_3), 1, 0),
vmware %>%
mutate("Q6_Trusted Brand" = if_else(grepl("Trusted", Q6_Recode_3), 1, 0),
"Q6_Features/Capabilities" = if_else(grepl("Features", Q6_Recode_3), 1, 0),
Q6_Virtualization = if_else(grepl("Virtual", Q6_Recode_3), 1, 0),
Q6_Integration = if_else(grepl("Integr", Q6_Recode_3), 1, 0),
Q6_Other = if_else(grepl("Other", Q6_Recode_3), 1, 0),
Q19_Cisco = if_else(grepl("Cisco", Q19_CSS_normalized), 1, 0),
Q19_Cyberark = if_else(grepl("Cyberark", Q19_CSS_normalized), 1, 0),
Q19_McAfee = if_else(grepl("McAfee", Q19_CSS_normalized), 1, 0),
"Q19_Palo Alto Networks" = if_else(grepl("Palo", Q19_CSS_normalized), 1, 0),
Q19_Sophos = if_else(grepl("Sophos", Q19_CSS_normalized), 1, 0),
Q19_Symantec = if_else(grepl("Symantec", Q19_CSS_normalized), 1, 0),
Q19_VMware = if_else(grepl("VMware", Q19_CSS_normalized), 1, 0),
"Q19_Windows Defender" = if_else(grepl("Windows D", Q19_CSS_normalized), 1, 0),
"Q19_N/A" = if_else(grepl("N/A", Q19_CSS_normalized), 1, 0),
Q19_Other = if_else(grepl("Cisco|Cyberark|McAfee|Palo|Sophos|Symantec|VMware|Windows D|N/A", Q19_CSS_normalized), 0, 1),
Q20_Cisco = if_else(grepl("Cisco", Q20_BestCSS_normalized), 1, 0),
Q20_Cyberark = if_else(grepl("Cyberark", Q20_BestCSS_normalized), 1, 0),
Q20_McAfee = if_else(grepl("McAfee", Q20_BestCSS_normalized), 1, 0),
"Q20_Palo Alto Networks" = if_else(grepl("Palo", Q20_BestCSS_normalized), 1, 0),
Q20_Sophos = if_else(grepl("Sophos", Q20_BestCSS_normalized), 1, 0),
Q20_Symantec = if_else(grepl("Symantec", Q20_BestCSS_normalized), 1, 0),
Q20_VMware = if_else(grepl("VMware", Q20_BestCSS_normalized), 1, 0),
"Q20_Windows Defender" = if_else(grepl("Windows D", Q20_BestCSS_normalized), 1, 0),
"Q20_N/A" = if_else(grepl("N/A", Q20_BestCSS_normalized), 1, 0),
Q20_Other = if_else(grepl("Cisco|Cyberark|McAfee|Palo|Sophos|Symantec|VMware|Windows D|N/A", Q20_BestCSS_normalized), 0, 1)
)
vmware %>%
mutate("Q6_Trusted Brand" = if_else(grepl("Trusted", Q6_Recode_3), 1, 0),
"Q6_Features/Capabilities" = if_else(grepl("Features", Q6_Recode_3), 1, 0),
Q6_Virtualization = if_else(grepl("Virtual", Q6_Recode_3), 1, 0),
Q6_Integration = if_else(grepl("Integr", Q6_Recode_3), 1, 0),
Q6_Other = if_else(grepl("Other", Q6_Recode_3), 1, 0),
Q19_Cisco = if_else(grepl("Cisco", Q19_CSS_normalized), 1, 0),
Q19_Cyberark = if_else(grepl("Cyberark", Q19_CSS_normalized), 1, 0),
Q19_McAfee = if_else(grepl("McAfee", Q19_CSS_normalized), 1, 0),
"Q19_Palo Alto Networks" = if_else(grepl("Palo", Q19_CSS_normalized), 1, 0),
Q19_Sophos = if_else(grepl("Sophos", Q19_CSS_normalized), 1, 0),
Q19_Symantec = if_else(grepl("Symantec", Q19_CSS_normalized), 1, 0),
Q19_VMware = if_else(grepl("VMware", Q19_CSS_normalized), 1, 0),
"Q19_Windows Defender" = if_else(grepl("Windows D", Q19_CSS_normalized), 1, 0),
"Q19_N/A" = if_else(grepl("N/A", Q19_CSS_normalized), 1, 0),
Q19_Other = if_else(grepl("Cisco|Cyberark|McAfee|Palo|Sophos|Symantec|VMware|Windows D|N/A", Q19_CSS_normalized), 0, 1),
Q20_Cisco = if_else(grepl("Cisco", Q20_BestCSS_normalized), 1, 0),
Q20_Cyberark = if_else(grepl("Cyberark", Q20_BestCSS_normalized), 1, 0),
Q20_McAfee = if_else(grepl("McAfee", Q20_BestCSS_normalized), 1, 0),
"Q20_Palo Alto Networks" = if_else(grepl("Palo", Q20_BestCSS_normalized), 1, 0),
Q20_Sophos = if_else(grepl("Sophos", Q20_BestCSS_normalized), 1, 0),
Q20_Symantec = if_else(grepl("Symantec", Q20_BestCSS_normalized), 1, 0),
Q20_VMware = if_else(grepl("VMware", Q20_BestCSS_normalized), 1, 0),
"Q20_Windows Defender" = if_else(grepl("Windows D", Q20_BestCSS_normalized), 1, 0),
"Q20_N/A" = if_else(grepl("N/A", Q20_BestCSS_normalized), 1, 0),
Q20_Other = if_else(grepl("Cisco|Cyberark|McAfee|Palo|Sophos|Symantec|VMware|Windows D|N/A", Q20_BestCSS_normalized), 0, 1)
)
vmware
vmware_new <-
vmware %>%
mutate("Q6_Trusted Brand" = if_else(grepl("Trusted", Q6_Recode_3), 1, 0),
"Q6_Features/Capabilities" = if_else(grepl("Features", Q6_Recode_3), 1, 0),
Q6_Virtualization = if_else(grepl("Virtual", Q6_Recode_3), 1, 0),
Q6_Integration = if_else(grepl("Integr", Q6_Recode_3), 1, 0),
Q6_Other = if_else(grepl("Other", Q6_Recode_3), 1, 0),
Q19_Cisco = if_else(grepl("Cisco", Q19_CSS_normalized), 1, 0),
Q19_Cyberark = if_else(grepl("Cyberark", Q19_CSS_normalized), 1, 0),
Q19_McAfee = if_else(grepl("McAfee", Q19_CSS_normalized), 1, 0),
"Q19_Palo Alto Networks" = if_else(grepl("Palo", Q19_CSS_normalized), 1, 0),
Q19_Sophos = if_else(grepl("Sophos", Q19_CSS_normalized), 1, 0),
Q19_Symantec = if_else(grepl("Symantec", Q19_CSS_normalized), 1, 0),
Q19_VMware = if_else(grepl("VMware", Q19_CSS_normalized), 1, 0),
"Q19_Windows Defender" = if_else(grepl("Windows D", Q19_CSS_normalized), 1, 0),
"Q19_N/A" = if_else(grepl("N/A", Q19_CSS_normalized), 1, 0),
Q19_Other = if_else(grepl("Cisco|Cyberark|McAfee|Palo|Sophos|Symantec|VMware|Windows D|N/A", Q19_CSS_normalized), 0, 1),
Q20_Cisco = if_else(grepl("Cisco", Q20_BestCSS_normalized), 1, 0),
Q20_Cyberark = if_else(grepl("Cyberark", Q20_BestCSS_normalized), 1, 0),
Q20_McAfee = if_else(grepl("McAfee", Q20_BestCSS_normalized), 1, 0),
"Q20_Palo Alto Networks" = if_else(grepl("Palo", Q20_BestCSS_normalized), 1, 0),
Q20_Sophos = if_else(grepl("Sophos", Q20_BestCSS_normalized), 1, 0),
Q20_Symantec = if_else(grepl("Symantec", Q20_BestCSS_normalized), 1, 0),
Q20_VMware = if_else(grepl("VMware", Q20_BestCSS_normalized), 1, 0),
"Q20_Windows Defender" = if_else(grepl("Windows D", Q20_BestCSS_normalized), 1, 0),
"Q20_N/A" = if_else(grepl("N/A", Q20_BestCSS_normalized), 1, 0),
Q20_Other = if_else(grepl("Cisco|Cyberark|McAfee|Palo|Sophos|Symantec|VMware|Windows D|N/A", Q20_BestCSS_normalized), 0, 1)
)
vmware_new
q23_summary
q23_summary %>% rowsum()
q23_summary %>% rowsum(factor)
glimpse(rowsum
)
str(rowsum)
?rowsum
q23_summary %>% group_by(factor) %>% rowsum(factor)
q23_summary %>% group_by(factor) %>% rowsum()
q23_summary %>% summarise() %>% group_by(factor)
q23_summary %>% group_by(factor) %>% summarise()
q23_summary %>% group_by(factor) %>% summarise(rowsum())
q23_summary %>% group_by(factor) %>% summarise(rowsum(factor))
q23_summary %>% group_by(factor) %>% summarise(rowsum(2:6))
q23_summary %>% group_by(factor) %>% summarise(2:6)
q23_summary %>% group_by(factor) %>% summarise(2)
q23_summary %>% group_by(factor) %>% summarise(rowsum(2))
q23_summary %>% summarise(2:6)
q23_summary %>% summarise(2:5)
q23_summary %>% summarise(`1`:`5`)
q23_summary %>% select(-factor)
q23_summary %>% select(-factor) %>% summarise(rowSums())
?rowSums
q23_summary %>% select(-factor) %>% summarise(.,rowSums())
q23_summary %>% summarise(.,rowSums())
q23_summary[1]
q23_summary[2]
q23_summary(1)
library(tidyverse)
library(dplyr)
vmware <- tbl_df(read_csv("C:/Users/v-kursan/Downloads/vmware.csv"))
vmware[1,]
